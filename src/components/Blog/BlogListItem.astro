---
import { format, formatDistanceToNow } from "date-fns";
import { de } from "date-fns/locale";

import Card from "@components/Elements/Card.astro";
import type { CollectionEntry } from "astro:content";

export interface Props {
    post: CollectionEntry<"blog">;
}

const { post } = Astro.props;
---

<Card
    classList={["md:basis-1/2-gap-4"]}
    image={{
        src: post.data.cover,
        alt: post.data.coverAlt,
        width: 800,
    }}
    href={`/${post.slug}`}
>
    <Fragment slot="title">{post.data.title}</Fragment>
    <small
        slot="post-title"
        title={format(post.data.pubDate, "dd.MM.yyyy", {
            locale: de,
        })}
    >
        {
            formatDistanceToNow(post.data.pubDate, {
                locale: de,
                addSuffix: true,
            })
        }
    </small>
    <Fragment slot="text">
        {post.data.description}
    </Fragment>
    <Fragment slot="link">Zum Post</Fragment>
</Card>
