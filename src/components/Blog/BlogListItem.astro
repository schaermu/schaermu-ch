---
import dayjs from "dayjs";
import "@lib/dayjs"

import Card from "@components/Elements/Card.astro";
import type { CollectionEntry } from "astro:content";

export interface Props {
    post: CollectionEntry<"blog">;
}

const { post } = Astro.props;
---

<Card
    classList={["md:basis-1/2-gap-4"]}
    image={{
        src: post.data.cover.src,
        alt: post.data.cover.alt,
        width: 800,
        height: 400,
    }}
    href={`/blog/${post.slug}`}
>
    <Fragment slot="title">{post.data.title}</Fragment>
    <small
        slot="post-title"
        title={dayjs(post.data.pubDate).format("dd.MM.yyyy")}
    >
        {dayjs(post.data.pubDate).fromNow()}
    </small>
    <Fragment slot="text">
        {post.data.lead}
    </Fragment>
    <Fragment slot="link">zum Post</Fragment>
</Card>
